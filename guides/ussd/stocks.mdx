---
title: "Stocks Menu View"
---

The stocks menu view contains the available stocks that can be purchased.

<Frame>
  <img className="block dark:hidden" src="/images/ussd-stocks.png" />
  <img className="hidden dark:block" src="/images/ussd-stocks-dark.png" />
</Frame>

### Accessing the stocks view

<Tip>
This is the menu that is displayed once the customer has chosen to view stocks.
From here the customer can choose to view an individual stock or search for a stock.
</Tip>


**Example Response**

```json
{
    "message": "USSD request processed successfully",
    "data": {
        "sessionId": "ussd_5310deea137a9cd999b02ae68a7bbbec",
        "currentState": "STOCKS",
        "menu": {
            "state": "STOCKS",
            "text": "Select Stock:",
            "options": [
                {
                    "key": "1",
                    "label": "AAPL",
                    "nextState": "SELECT_STOCK",
                    "data": {
                        "stockId": "cmhkp4jkw0005zxfok9m0kiwg",
                        "symbol": "AAPL",
                        "name": "Apple Inc."
                    }
                },
                ...
                {
                    "key": "7",
                    "label": "Next Page"
                },
                {
                    "key": "8",
                    "label": "Search Stock",
                    "nextState": "SEARCH_STOCK"
                },
                {
                    "key": "0",
                    "label": "Back to Home",
                    "nextState": "HOME"
                }
            ],
            "isEndState": false
        },
        "ussdText": "Select Stock:\n\n1. AAPL\n2. AMZN\n3. GOOGL\n4. JPM\n5. META\n7. Next Page\n8. Search Stock\n0. Back to Home",
        "expiresAt": "2025-11-06T14:58:33.942Z"
    }
}
```

#### Viewing individual stock

<Note>
  See the guide on [viewing an individual stock](/guides/ussd/individual-stock)
</Note>

#### Paging stocks view

```bash
  curl --request POST \
    --url https://api.staging.pipevest.com/v1/ussd/process
    ...
    --data 'sessionId=<session-id>'
    --data 'choice=7'
```

<Note>
  The response will be similar to the initial request to [view the stock
  menu](#accessing-the-stocks-view)
</Note>

#### Searching for a stock

Returns a view that allows users to input a stock symbol.

```bash
  curl --request POST \
    --url https://api.staging.pipevest.com/v1/ussd/process
    ...
    --data 'sessionId=<session-id>'
    --data 'choice=8'
```

**Example Response**

```json
{
    "message": "USSD request processed successfully",
    "data": {
        "sessionId": "ussd_5310deea137a9cd999b02ae68a7bbbec",
        "currentState": "SEARCH_STOCK",
        "menu": {
            "state": "SEARCH_STOCK",
            "text": "Enter stock symbol or name:\n(e.g., AAPL or Apple)",
            "options": [
                {
                    "key": "0",
                    "label": "Cancel",
                    "nextState": "STOCKS"
                }
            ],
            "isEndState": false
        },
        "ussdText": "Enter stock symbol or name:\n(e.g., AAPL or Apple)\n\n0. Cancel",
        "expiresAt": "2025-11-06T14:58:33.942Z"
    }
}
```

#### Processing stock search
Pass the stock symbol or name to the `choice` parameter.

```bash
  curl --request POST \
    --url https://api.staging.pipevest.com/v1/ussd/process
    ...
    --data 'sessionId=<session-id>'
    --data 'choice=Tesla'
```

**Example Response**
```json
{
    "message": "USSD request processed successfully",
    "data": {
        "sessionId": "ussd_5310deea137a9cd999b02ae68a7bbbec",
        "currentState": "STOCKS",
        "menu": {
            "state": "STOCKS",
            "text": "Select Stock:",
            "options": [
                {
                    "key": "1",
                    "label": "TSLA",
                    "nextState": "SELECT_STOCK",
                    "data": {
                        "stockId": "cmhkp4km20009zxfoyv85kkij",
                        "symbol": "TSLA",
                        "name": "Tesla Inc."
                    }
                },
                {
                    "key": "8",
                    "label": "Search Stock",
                    "nextState": "SEARCH_STOCK"
                },
                {
                    "key": "0",
                    "label": "Back to Home",
                    "nextState": "HOME"
                }
            ],
            "isEndState": false
        },
        "ussdText": "Select Stock:\n\n1. TSLA\n8. Search Stock\n0. Back to Home",
        "expiresAt": "2025-11-06T14:58:33.942Z"
    }
}
```

### Stocks View Example

<Card
  title="USSD Stocks View"
  icon="boxes-stacked"
  href="https://www.figma.com/proto/xkSZwzsNTpYDNQiG0QGRlu/Zamtel-USSD-Flow?node-id=108-322&t=7ty9x1l3kywQhWlB-0&scaling=min-zoom&content-scaling=fixed&page-id=72%3A258&starting-point-node-id=108%3A69&show-proto-sidebar=1"
  horizontal
>
  Check out an example of the ussd stock view
</Card>
